<html>
<head>
  <title>Multiplication</title>
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="/stylesheets/style.css">
</head>
<body>
  {{#if errorMessage}}
    <p class="error-message">{{errorMessage}}</p>
  {{/if}}

  <canvas id="canvas"></canvas>
  <div id="chat">
    <div class="content"></div>
    <input type="text">
  </div>
  <script src="/socket.io/socket.io.js"></script>
  <script src="/javascripts/vendor/moment.js"></script>
  <script src="/javascripts/vendor/jquery-1.9.1.js"></script>
  <script src="/javascripts/vendor/object.extend.js"></script>
  <script src="/javascripts/canvas.js"></script>
  <script src="/javascripts/socketeer.js"></script>
  <script src="/javascripts/game.js"></script>
  <script src="/javascripts/chat.js"></script>
  <script>
    var chat   = new Chat('#chat', io.connect('http://localhost:8124/chat'), { channel: 'game-{{game.id}}' }),
        logger = (function() {
          return {
            log: function(text) {
              chat.line(text, 'system');
            }
          }
        }());

    new Game('canvas', {
      cellWidth: 40,
      socket: io.connect('http://localhost:8124'),
      socketeerId: '{{socketeerId}}',
      stones: {{json game.board.stones}},
      gameId: '{{game.id}}',
      {{#if game.started}} gameStarted: {{game.started}},{{/if}}
      thisPlayerNr: {{thisPlayerPosition}},
      actualPlayer: {{game.actualPlayer}},
      logger: logger
    });
  </script>
</body>
</html>
